<!DOCTYPE html>
<html>
<head>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Abel|Anton|Days+One|Jura" rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/style.css">
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>

    <title>Doppelganger</title>
</head>

<body style="background-color: black;">
    <nav style="background-color: black;">
        <div class="nav-wrapper">
            <a href="#" class="brand-logo masthead"><img src="./assets/images/head_03.png" style="width: 60px" id="logoImg" alt="head"> Doppelg√§nger</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a href="collapsible.html">Welcome, User</a></li>
            </ul>
        </div>
    </nav>

    <div id="wrapper">

<!-- Side Panel w/ saved items and chat groups -->
        <div id="savedDiv">
            <h4 class="divTitles">Your Saved Items</h4>
                <ul class="collapsible savedList" data-collapsible="accordion">
                <li>
                  <div class="collapsible-header"><i class="material-icons">grade</i>Example Bookmark 1</div>
                  <div class="collapsible-body links"><span>Lorem ipsum dolor sit amet.</span></div>
                </li>
                <li>
                  <div class="collapsible-header"><i class="material-icons">grade</i>Example Bookmark 2</div>
                  <div class="collapsible-body links"><span>Lorem ipsum dolor sit amet.</span></div>
                </li>
                <li>
                  <div class="collapsible-header"><i class="material-icons">grade</i>Example Bookmark 3</div>
                  <div class="collapsible-body links"><span>Lorem ipsum dolor sit amet.</span></div>
                </li>
              </ul>
        </div>


    <!-- Search/Topic Div -->
        <div id="searchBox">
            <h4 class="divTitles">Choose the topic.</h4>
            <div class="row tabTable">
                <div class="col s12">
                  <ul class="tabs">
                    <li class="tab col s3 tabs-fixed-width"><a class="active" href="#interests">Interests</a></li>
                    <li class="tab col s3 tabs-fixed-width"><a href="#politics">Politics</a></li>
                  </ul>
                </div>
                    <div id="interests" class="col s12">
                    <p class="instr">Type a search term below (e.g. 'evolution', 'JavaScript', 'poetry', 'film').</p>
                        <div class="row">
                            <form class="col s12">
                              <div class="row">
                                <div class="input-field col s6">
                                  <input placeholder="Type a topic here" id="interestTopicInput" type="text" class="validate">
                                  <label for="interestTopicInput">Search Term:</label>
                                </div>
                                </div>
                            </form>
                        </div>
                        
                        <a class="btn-floating btn-large waves-effect waves-light red addI"><i class="material-icons">add</i></a>
                        
                        <div class="iButtonsDiv"></div>
                    </div>

                    <div id="politics" class="col s12">
                        <p class="instr">Type a search term below (e.g. 'environment', 'socialism', 'constitution', 'military').</p>
                        <div class="row">
                            <form class="col s12">
                              <div class="row">
                                <div class="input-field col s6">
                                  <input placeholder="Type a topic here" id="politicalTopicInput" type="text" class="validate">
                                  <label for="politicalTopicInput">Search Term:</label>
                                </div>
                                </div>
                            </form>
                        </div>

                        <a class="btn-floating btn-large waves-effect waves-light red addP"><i class="material-icons">add</i></a>
                        
                        <div class="pButtonsDiv"></div>
                    </div>

                </div>
          </div>
    </div>
<!-- YouTube Div -->
    <div id="youTubeDiv">




    </div>

<!-- Podcast Div -->
    <div id="podcastDiv">

<iframe src="http://widgets.itunes.apple.com/widget.html?c=us&brc=FFFFFF&blc=FFFFFF&trc=FFFFFF&tlc=FFFFFF&d=Suggested Podcasts&t=Culture Rediscovered&m=podcast&e=podcast&w=250&h=300&ids=1065051273,122415315,568115978,583661711,309787436,259917817,1065050908,1069889359,564302516,563316406,1183123221&wt=playlist&partnerId=&affiliate_id=&at=&ct=" frameborder=0 style="overflow-x:hidden;overflow-y:hidden;width:250px;height: 300px;border:0px"></iframe>

    </div>




    
<script>
    $(document).ready(function(){
        $('ul.tabs').tabs('select_tab', 'tab_id');

        makePoliticalButtons();
        makeInterestButtons();
    });

    $(document).ready(function(){
        $('.collapsible').collapsible();
    });

    var pTerms = ["constitution", "socialism", "environment", "military"];

    function makePoliticalButtons() {
        $(".pButtonsDiv").empty();

        for (var i = 0; i < pTerms.length; i++) {
            var b = $("<a>");
            b.addClass("waves-effect waves-light red btn termBtns");
            b.attr("data-term", pTerms[i]);
            b.text(pTerms[i]);
            $(".pButtonsDiv").append(b);
            console.log(b);
        }
    }

    $(".addP").on("click", function(event) {
        event.preventDefault();

        var pTerm = $("#politicalTopicInput").val().trim();
        pTerms.push(pTerm);
        makePoliticalButtons();
        $("#politicalTopicInput").val("");
    });

    var iTerms = ["evolution", "JavaScript", "poetry", "film"];

    function makeInterestButtons() {
        $(".iButtonsDiv").empty();

        for (var i = 0; i < iTerms.length; i++) {
            var b = $("<a>");
            b.addClass("waves-effect waves-light red btn termBtns");
            b.attr("data-term", iTerms[i]);
            b.text(iTerms[i]);
            $(".iButtonsDiv").append(b);
        }
    }

    $(".addI").on("click", function(event) {
        event.preventDefault();

        var iTerm = $("#interestTopicInput").val().trim();
        iTerms.push(iTerm);
        makeInterestButtons();
        $("#interestTopicInput").val("");
    });

    function youtubeApiCall(){
        var q = $(".termBtns").attr("data-term");
        console.log(q);
        var apiKey = 'AIzaSyC9u9p589T-kb7CDunFP9ykos-fl0vtjtI';
        var queryURL = 'https://www.googleapis.com/youtube/v3/search?q=' + q + '&key=' + apiKey + '&fields=items&part=snippet';
     $.ajax({
         type: "GET",
         url: queryURL,
         dataType: 'jsonp'
     })
    .done(function(data) {
        console.log(data); 
        //console.log(data.items[0].snippet.thumbnails.default.url);
        for (var i = 0; i < 5; i++) {
            // var thumbnail = $("<video>");
            // thumbnail.addClass("responsive-video");
            // var source = $("<source>");
            // source.attr("src", data.items[i].snippet.thumbnails.default.url);
            // thumbnail.append(source);
            // $("#youTubeDiv").append(thumbnail);
            $("#youTubeDiv").append(data.items[i].snippet.title);
            $("#youTubeDiv").append(data.items[i].snippet.thumbnails.default.url);
        }      
     });
    }
    
    $(document).on("click", ".termBtns", function(event) {
        event.preventDefault();
        $("#podcastDiv").html("");
        $("#youTubeDiv").html("");
        // var string = $(this).attr("data-term");
        // console.log(string);
        // //replace spaces with plus
        // var searchTerm = string.replace(/ /g, "+");
        // console.log(searchTerm);
        // //we need to have a variable for genreId (ie for news, science, art, literature, etc.)
        // var queryURL = "https://itunes.apple.com/search?term=" + searchTerm + "&media=podcast&genreId=1477&limit=10";
        // console.log(queryURL);
        // $.ajax({
        //     url: queryURL,
        //     type: "GET",
        //     dataType: "jsonp"
        // }).done(function(response) {
        //     console.log(response);
        // });

        youtubeApiCall();
    });

    
</script>
<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/js/materialize.min.js"></script>
</body>

</html>